@page "/dashboard"

<div class="d-flex">
    <!-- Sidebar -->
    <div class="sidebar" style="width: 300px; height: 100vh; position: fixed; left: 0; background: linear-gradient(180deg, #0d1f2d, #1b2b46, #2a9d8f); padding-top: 20px;">
        <div class="sidebar-header text-center mb-4">
            <h3 class="text-white">Dashboard</h3>
        </div>
        <ul class="nav flex-column">
            <li class="nav-item mb-3">
                <NavLink class="nav-link text-white" href="/home" ActiveClass="active">
                    <i class="bi bi-house-door-fill"></i> Home
                </NavLink>
            </li>
            <li class="nav-item mb-3">
                <button class="nav-link text-white" style="background:none; border:none;" @onclick="ShowTransactionPage">
                    <i class="bi bi-currency-exchange"></i> Transaction
                </button>
            </li>
            <li class="nav-item mb-3">
                <NavLink class="nav-link text-white" href="/debt" ActiveClass="active">
                    <i class="bi bi-credit-card"></i> Debt
                </NavLink>
            </li>
            <li class="nav-item mb-3">
                <NavLink class="nav-link text-white" href="/update-detail" ActiveClass="active">
                    <i class="bi bi-pencil-square"></i> Update Detail
                </NavLink>
            </li>
            <li class="nav-item mb-3">
                <a class="nav-link text-white" href="#" @onclick="AskForLogout">
                    <i class="bi bi-box-arrow-right"></i> Logout
                </a>
            </li>
        </ul>
    </div>

    <!-- Main Content -->
    <div class="content" style="margin-left: 300px; padding: 20px;">
        <h1>Welcome to the Dashboard</h1>
        

        <!-- Show Transaction Page Content -->
        @if (isTransactionPageVisible)
        {
            <nav class="navbar navbar-light bg-light justify-content-between">
                <h1 class="navbar-brand mb-0 h1">Transactions</h1>
                <button class="btn btn-primary" type="button" @onclick="OpenAddTodoDialog">
                    <span class="oi oi-plus" /> Add Transaction
                </button>
            </nav>

            <!-- Add Todo Dialog  -->
            @if (isAddTodoDialogOpen)
            {
                <div class="modal">
                    <div class="modal-content">
                        <span @onclick="CloseAddTodoDialog" class="close-button">&times;</span>
                        <h2>Add Todo</h2>
                        <input type="text" placeholder="Enter todo..." @bind="newTodoTitle" />
                        <button @onclick="AddTodo">Add Todo</button>
                    </div>
                </div>
            }


        }
    </div>
</div>